<template>
    <view class="index-loaded-header">
        <view class="welcome-block">
            <view class="welcome-title">欢迎 <text>用户贺燕珍</text></view>
            <view class="msg-box new-msg"></view>
        </view>
        <view class="item-detail">
            <view class="item-name">美嘉合服务</view>
            <view class="item-title">可上传素材、提交注册信息到当前小程序</view>
            <view class="item-switch">切换</view>
            <view class="item-detail-progress">
                <view class="current-progress">当前进度</view>
                <view class="remind-title">您还未添加小程序信息</view>
            </view>
        </view>
    </view>
    <view class="index-loaded-body">
        <view class="index-loaded-item" wx:for="{{items}}" wx:key="index">
            <image src="{{item.iconPath}}" class="item-img"></image>
            <view class="item-text">{{item.text}}</view>
        </view>
    </view>
</template>

<script>
import wepy from 'wepy';

import { sleep } from '../utils';

export default class Index extends wepy.page {
    config = {
        navigationBarTitleText: '首页',
    }
    data = {
        items: [
            {
                iconPath: 'http://static.58.com/lbg/shangjiaxcxht/zhushou/img/icon-buy.png',
                text: '购买小程序',
            }, {
                iconPath: 'http://static.58.com/lbg/shangjiaxcxht/zhushou/img/icon-my.png',
                text: '我的小程序',
            }, {
                iconPath: 'http://static.58.com/lbg/shangjiaxcxht/zhushou/img/icon-upload.png',
                text: '上传素材',
            }, {
                iconPath: 'http://static.58.com/lbg/shangjiaxcxht/zhushou/img/icon-register.png',
                text: '微信注册信息',
            }, {
                iconPath: 'http://static.58.com/lbg/shangjiaxcxht/zhushou/img/icon-progress.png',
                text: '完成度',
            }, {
                iconPath: 'http://static.58.com/lbg/shangjiaxcxht/zhushou/img/icon-advice.png',
                text: '意见反馈',
            },
        ],
    }
    async onLoad() {
        await sleep();
        console.log('onLoad');
    }
}
</script>

<style lang="scss">
    view,scroll-view{
        box-sizing:border-box;
    }
    page{
        width:100%;
        height:100%;
        background:#f6f6f6;
        .index-loaded-header{
            width:100%;
            height:444rpx;
            .welcome-block{
                width:100%;
                height:299rpx;
                background:url(http://static.58.com/lbg/shangjiaxcxht/zhushou/img/welcome-block.png) no-repeat;
                background-size:100% auto;
                padding:50rpx 40rpx 0 40rpx;
                position:relative;
                .welcome-title{
                    font-size: 36rpx;
                    color: #FFFFFF;
                    letter-spacing: 0;
                }
                .msg-box{
                    position:absolute;
                    right:40rpx;
                    top:50rpx;
                    width:41rpx;
                    height:31rpx;
                    background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAfCAYAAAB6Q+RGAAAAAXNSR0IArs4c6QAAAzpJREFUWAnNmMdP1GEQhhcwerDXgyC2owePYoktnowxGmOMsRy88Ccgij0GoxHFFhs2bAcvnvGgwRCMRqKRk11PerImiyD4DJmXfKy7vy2wsJO8mfm+aU8Wthb19PTMicVijagCFaNCsW5AWtHWIiCbCFYVClkSjiaDjJMY5clOfDX64ufhcCUsPYxKfXk8BqTsrwft+GnDQcfeEnTXOfpcCLmD27hnXuGnDiUo+wzwju83V684hJzO5WrU4cmX+ClDAcoeA7zte83tRKU694M0IBJrkEBfEE/OJyjzDfAWktlzwjhSQ3rBWor+eFcbflI+QJlbjG76HnO7tIc4GtJB11Eo0OfEEzVgMDzzDLARyXaHc7lMD+mg6ynu9CnP8BPCQbnGzDHAGz7XXE3iLO4yg3TQDTQI9CnxgEDpN8DrSLYnEdD3Zg7pDRuZ2OVTn+DHJxuc7o4+A7zmc8ztTdVDLjtIB91Eo0BbicelWpDsnnoDvIpk+5LV6Y6i7CGtmcbNSKAtxGM1NMpTZ2+/V5Bsf1S95SjMDdKbtzBAb6GPicdELSRvgA1IdiCqXjmKc4d00EPaiG9GozU89Nwb4GUkaw7zUTENuUPSvAB901b3j/D9QDkb4CXPh84+4aQ1GnKDpLECffeNn/FVSH/6h8S9L/j4kSj8E9dyDh/R2nSU1GcPSdNCFALOtUXcbUcC/Up8H71Dsl4gDvbIXtQl/kgUKPnsIGlYhH4gs0/IvnL0GWd7HU38F7C31Kq+IgLOBnoByY6G+TCmIHNIihcjAX4knh0OU8x9OapG9onmIJqvXOi5N9DzSHYszCsmmRkkhUvQT5/2AT9LQwbimWOg53yuueOJ87hLD0nRUiTA98SDAigY5hnoWSSrU848l9GQFCxDv5CZPQlmhgMGM2b2GVvidlKzOaeGJLkcCfAtcbka8+XZcQrJ6m0Ph+SQJFag315tgDPyBZY4l131vtfcaVSmsxHLthEI8A1xWeKgfJ/ZeUIw+HuKQ8guv3yN1xfzfHP9N5/ddYKTH0FVB7JfMOyXgy7UgFZSgBsWa2NrO5rn2+P2MtDEoZB/C3pgv6JVohbUjQrJjMe4Kv8BnZkdhMJllJAAAAAASUVORK5CYII=);
                    background-size:100% auto;
                }
                .msg-box.new-msg::after{
                    width:20rpx;
                    height:20rpx;
                    background:red;
                    border-radius:50%;
                    content:'';
                    position:absolute;
                    right:-9rpx;top:-8rpx;
                }
            }
            .item-detail{
                width:698rpx;
                height:300rpx;
                background:#fff;
                border-radius: 16rpx;
                margin:0 26rpx;
                position:relative;
                top:-144rpx;
                padding:30rpx;
                .item-name{
                    font-size: 32rpx;
                    color: #333333;
                    letter-spacing: 0;
                    line-height:65rpx;
                }
                .item-title,.item-switch{
                    font-size: 28rpx;
                    color: #999999;
                    letter-spacing: 0;
                    line-height:60rpx;
                }
                .item-switch{
                    color: #4E88FF;
                    position:absolute;
                    right:30rpx;top:30rpx;
                }
            }
            .item-detail-progress{
                width:646rpx;
                height:100rpx;
                line-height:100rpx;
                background: #F6F6F6;
                border-radius: 16rpx;
                margin-top:24rpx;
                position:relative;
                &::after{
                    display:block;
                    position:absolute;
                    right:20rpx;
                    top:37rpx;
                    content:'';
                    width:15rpx;
                    height:26rpx;
                    background:url('https://static.58.com/lbg/mengchong/image/icon/arrow-right.png') no-repeat center;
                    background-size: 100%;
                }
                .current-progress{
                    border: 1rpx solid rgba(78,136,255,0.80);
                    border-radius: 4rpx;
                    width:108rpx;
                    height:38rpx;
                    color: #4E88FF;
                    font-size:24rpx;
                    text-align:center;
                    line-height:38rpx;
                    float:left;
                    margin:30rpx 16rpx 0 18rpx;
                }
            }
            .remind-title{
                color: #9B9B9B;
                border:0;
                font-size:28rpx;
            }
        }
        .index-loaded-body{
            width:698rpx;
            height:410rpx;
            padding:60rpx 30rpx;
            margin:30rpx 26rpx;
            background:#fff;
            border-radius: 16rpx;
            display:flex;
            flex-wrap:wrap;
            justify-content:space-around;
            align-items:center;
            .index-loaded-item{
                width:30%;
                text-align: center;
                .item-img{
                    width:72rpx;
                    height:72rpx;
                }
                .item-text{
                    font-size: 26rpx;
                    color: #333333;
                    letter-spacing: 0;
                    text-align: center;
                    line-height:32rpx;
                    margin-top:6rpx;
                }
            }
        }
    }
</style>