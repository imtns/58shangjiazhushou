"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function t(t,e){var i=[],r=!0,a=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){a=!0,n=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw n}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_mixin=require("./mixin.js"),_mixin2=_interopRequireDefault(_mixin),_utils=require("./../../utils/index.js"),app=require("./../../utils/globalData.js"),EditText=function(t){function e(){var t,i,r,a;_classCallCheck(this,e);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=r=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.config={navigationBarTitleText:"文章"},r.mixins=[_mixin2.default],r.data={list:[1],editMultiple:!1,textLength:3,textLimit:{},theme:"",autoplay:!1,interval:2500,duration:500},r.methods={radioBoxChange:function(t){this.editMultiple="single"!==t.detail.value,this.theme=this.editMultiple?"2":"1"},showGroup:function(){this.showGroup=!this.showGroup},textAreaInput:function(t){var e=t.currentTarget.dataset.index;this.textLimit[e]=t.detail.value.length,this.pageData[0].props.cfg.texts[e].text=t.detail.value},textSingleInput:function(t){this.textLimit.single=t.detail.value.length,this.pageData[0].props.cfg.texts[0].text=t.detail.value},addText:function(){if(4===this.pageData[0].props.cfg.texts.length)return void(0,_utils.toast)("最多添加5条");this.pageData[0].props.cfg.texts.push({text:""})},save:function(){this.pageData[0].props.cfg.theme=this.editMultiple?"2":"1",this.pageModule.cfg=this.pageData[0].props.cfg;var t=_slicedToArray(this.pageData,1);app.globalData.pageData[this.pageIndex]=t[0],app.globalData.modules[this.pageIndex]=this.pageModule,wx.navigateBack({delta:1})}},a=i,_possibleConstructorReturn(r,a)}return _inherits(e,t),_createClass(e,[{key:"onLoad",value:function(){var t=this,e=this.tempModules.filter(function(e){return e.id===t.pageId}),i=_slicedToArray(e,1);this.pageModule=i[0],this.editMultiple="2"===this.pageData[0].props.cfg.theme,this.editMultiple?this.pageData[0].props.cfg.texts.forEach(function(e,i){t.textLimit[i]=e.text.length}):this.textLimit.single=this.pageData[0].props.cfg.texts[0].text.length}}]),e}(_wepy2.default.page);Page(require("./../../npm/wepy/lib/wepy.js").default.$createPage(EditText,"pages/edit/text"));