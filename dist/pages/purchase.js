"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function o(n,a){try{var i=r[n](a),u=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(u).then(function(e){o("next",e)},function(e){o("throw",e)});e(u)}return o("next")})}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_ajax=require("./../utils/ajax.js"),buySrc="https://ordermobile.58.com/ordermobile/app/product/buyMiniApp?fromProductItemCode=871817130073200000&productItemCode=861110090334300017,852215312393800001&source= up_mini_app&os=ios",upgradeSrc="https://ordermobile.58.com/ordermobile/app/product/buyUpEnterpriseMiniApp?",Purchase=function(e){function r(){var e,t,o,n;_classCallCheck(this,r);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return t=o=_possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),o.config={navigationBarTitleText:"注册"},o.data={platform:"",src:""},n=t,_possibleConstructorReturn(o,n)}return _inherits(r,e),_createClass(r,[{key:"onLoad",value:function(){function e(e){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,o,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,wx.getSystemInfo({success:function(e){"devtools"===e.platform?t.platform="PC":"ios"===e.platform?t.platform="ios":"android"===e.platform&&(t.platform="android")}}),!r.mpid){e.next=17;break}return e.prev=3,e.next=6,(0,_ajax.get)("/order/getParam/"+r.mpid);case 6:o=e.sent,n=o.data,t.src=upgradeSrc+"productItemCode=861110090334300017&cityId="+n.cityId+"&cateId="+n.cateId+"&newSign=1&oldOrderId="+n.oldOrderId+"&userId="+n.userId+"&source=up_mini_app&os="+t.platform,t.$apply(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:e.next=18;break;case 17:t.src=buySrc;case 18:case"end":return e.stop()}},e,this,[[3,12]])}));return e}()}]),r}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(Purchase,"pages/purchase"));