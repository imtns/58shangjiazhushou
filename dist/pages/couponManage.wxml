
    <view class="container">
        <view  wx:if="{{ coupons && coupons.length }}">
            
    <view class="coupons {{$couponList$size === \'small\' ? 'small' : ''}}" >
        <navigator class="coupon-list-item {{$couponList$item.unable ? 'unable' : ''}} {{$couponList$isEditing ? 'editing' : ''}}"  wx:for="{{ $couponList$coupons }}" wx:key="id" url="{{ '/pages/couponEdit?id=' + item.id }}">
            <view class="coupon-list-left">
                <!-- 打折 -->
                <view class="discount" wx:if="{{ item.couponType === 2 }}">
                    <text class="bold">{{ item.couponDiscard / 10 || 9 }}</text>折
                </view>
                <!-- 满减 -->
                <view class="reduce" wx:else>
                    ￥<text class="bold">{{ item.reliefAmount }}</text>
                </view>
            </view>
            <view class="coupon-list-middle">
                <view class="info">
                    <view class="title">满{{ item.limitAmount }}可用</view>
                    <view class="type">{{ item.subTitle }}</view>
                    <!-- 固定时间类型 -->
                    <view class="time" wx:if="{{ item.validType === 1}}">
                        {{ item.validStarttime }}-{{ item.validEndtime }}
                    </view>
                    <!-- 领取后生效 -->
                    <view class="time" wx:else>
                        领取后{{ item.validAfterDays ? (item.validAfterDays + '天') : '立即' }}生效
                    </view>
                </view>
                <view class="disable" wx:if="{{ item.unable }}">
                    已失效
                </view>
            </view>
            <view class="coupon-list-right">
                <view>
                    已领取
                    <view class="count">
                        {{ item.getCount }}张
                    </view>
                </view>
                <view>
                    已使用
                    <view class="count">
                        {{ item.useCount }}张
                    </view>
                </view>
            </view>
            <view class="checkbox {{item.checked ? 'checked' : ''}}">
            </view>
            <view class="mask" catchtap="$couponList$chooseCoupon" wx:if="{{ $couponList$isEditing }}" data-wpychoosecoupon-a="{{ index }}"/>
        </navigator>
    </view>

        </view>
        <view  wx:else>
            <view class="coupons-empty">
                <image class="empty-image" src="https://img.58cdn.com.cn/lbg/jianzhan/images/empty.png"/>
                <view>暂无优惠卷</view>
            </view>
        </view>

        <view class="options">
            <button class="edit" bindtap="edit">{{ isEditing ? '取消' : '编辑' }}</button>
            <button wx:if="{{ isEditing }}" bindtap="deleteItems">删除</button>
            <button wx:else bindtap="addCoupon">添加优惠券</button>
        </view>
    </view>