"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var uploadUrl="https://yaofa.58.com/fileUpload";exports.default=function(a){for(var o=arguments.length,e=Array(o>1?o-1:0),t=1;t<o;t++)e[t-1]=arguments[t];var l=e[0],d=e[1],i=l&&l.data||{},r=l&&l.name||"content",s=l&&l.type||"image";switch("video"===s&&(uploadUrl="https://yaofa.58.com/wosMeidaUpload"),s){case"image":uploadUrl="https://yaofa.58.com/fileUpload";break;case"video":uploadUrl="https://yaofa.58.com/wosMeidaUpload";break;default:uploadUrl="https://yaofa.58.com/wosFileUpload"}return!d&&wx.showLoading&&wx.showLoading({title:"上传中",mask:!0}),new Promise(function(o,e){wx.uploadFile({url:uploadUrl,name:r,formData:i,filePath:a,success:function(a){var t=a.data,l=JSON.parse(t);console.log(l),100===l.state?o(l.data):e("上传失败")},fail:function(){e("上传失败")},complete:function(){!d&&wx.hideLoading&&wx.hideLoading()}})})};