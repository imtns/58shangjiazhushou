"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_utils=require("./index.js"),host="https://yaofa.58.com",http=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];return new Promise(function(e,n){var r=o[0],a=o[1],i=o[2];"function"==typeof a&&(i=a,a={});var s=Object.assign({},a),u=wx.getStorageSync("ppu");return console.log("请求接口",r),console.log("请求参数",s),wx.showLoading&&wx.showLoading({title:"加载中",mask:!0}),wx.request({url:host+r+(~r.indexOf("?")?"":"?")+(+new Date).toString(36).substr(3),data:s,method:t,dataType:"json",header:{"content-type":"GET"===t?"application/json":"application/x-www-form-urlencoded;charset=utf-8",PPU:u||"wanghongyue",reqfrom:"biz_assistant"},success:function(t){console.log("response",t);var o=t.data,r=o.state,a=o.msg;o.data;100===r?e(t.data):-10001==r?((0,_utils.toast)(a),setTimeout(function(){_wepy2.default.reLaunch({url:"../pages/intro"})},1e3),n(a)):n(a)},fail:function(t){n(t),i&&i(t)},complete:function(){wx.hideLoading&&wx.hideLoading()}})})};module.exports.get=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return http.apply(void 0,["GET"].concat(e))},module.exports.post=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return http.apply(void 0,["POST"].concat(e))};