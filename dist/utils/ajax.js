"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_utils=require("./index.js"),host="https://yaofa.58.com",http=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];return new Promise(function(e,n){var a=o[0],r=o[1],i=o[2],s=o[3];"function"==typeof r&&(i=r,r={});var u="",l=0;s&&(u=s.loadingTitle,l=s.delay);var p=Object.assign({},r,{test:"test"}),c=wx.getStorageSync("ppu");return console.log("请求接口",a),console.log("请求参数",p),wx.showLoading&&wx.showLoading({title:u||"加载中",mask:!0}),wx.request({url:host+a+(~a.indexOf("?")?"":"?")+(+new Date).toString(36).substr(3),data:p,method:t,dataType:"json",header:{"content-type":"GET"===t?"application/json":"application/x-www-form-urlencoded;charset=utf-8",PPU:c||"wanghongyue",reqfrom:"biz_assistant"},success:function(t){console.log("response",t);var o=t.data,a=o.state,r=o.msg;o.data;100===a?e(t.data):-10001==a?((0,_utils.toast)(r),setTimeout(function(){_wepy2.default.reLaunch({url:"../pages/intro"})},1e3),n(r)):n(r)},fail:function(t){n(t),i&&i(t)},complete:function(){l?setTimeout(function(){wx.hideLoading&&wx.hideLoading()},l):wx.hideLoading&&wx.hideLoading()}})})};module.exports.get=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return http.apply(void 0,["GET"].concat(e))},module.exports.post=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return http.apply(void 0,["POST"].concat(e))};