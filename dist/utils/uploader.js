"use strict";var uploadUrl="https://yaofa.58.com/fileUpload";module.exports.uploader=function(a){for(var o=arguments.length,t=Array(o>1?o-1:0),e=1;e<o;e++)t[e-1]=arguments[e];var l=t[0],n=t[1],i=t[2];l&&l.isVideo&&(uploadUrl="https://yaofa.58.com/wosMeidaUpload"),"function"==typeof l&&(i=n,n=l,l={});var d=l&&l.data||{},r=l&&l.name||"content";return!i&&wx.showLoading&&wx.showLoading({title:"上传中",mask:!0}),wx.uploadFile({url:uploadUrl,name:r,formData:d,filePath:a,success:function(a){var o=a.data,t=JSON.parse(o);console.log(t),100===t.state?n&&n(null,t.data):n("上传失败")},fail:function(){n("上传失败")},complete:function(){!i&&wx.hideLoading&&wx.hideLoading()}})};