"use strict";var uploadUrl="https://yaofa.58.com/fileUpload";module.exports.uploader=function(a){for(var o=arguments.length,t=Array(o>1?o-1:0),e=1;e<o;e++)t[e-1]=arguments[e];var n=t[0],l=t[1],r=t[2];"function"==typeof n&&(r=l,l=n,n={});var i=n&&n.data||{},d=n&&n.name||"content";return!r&&wx.showLoading&&wx.showLoading({title:"上传中",mask:!0}),wx.uploadFile({url:uploadUrl,name:d,formData:i,filePath:a,success:function(a){var o=a.data,t=JSON.parse(o);console.log(t),100===t.state?l&&l(null,t.data):l("上传失败")},fail:function(){l("上传失败")},complete:function(){!r&&wx.hideLoading&&wx.hideLoading()}})};