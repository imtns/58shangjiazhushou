"use strict";var _require=require("./index.js"),notSupportTips=_require.notSupportTips,host="https://yaofa.58.com",app=require("./globalData.js"),http=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),a=1;a<e;a++)o[a-1]=arguments[a];var r=o[0],n=o[1],i=o[2],s=o[3];"function"==typeof n&&(i=n,n={});var p=app.globalData.extConfig,u=p.appid,d=p.releaseId,l=p.test;if(!u)return void notSupportTips();console.log("发送请求：",t,o);var c=l?{appid:u,releaseId:d,test:l}:{appid:u,releaseId:d},g=Object.assign({},n,c);return!s&&wx.showLoading&&wx.showLoading({title:"加载中",mask:!0}),wx.request({url:host+r+(~r.indexOf("?")?"":"?")+(+new Date).toString(36).substr(3),data:g,method:t,dataType:"json",header:{"content-type":"GET"===t?"application/json":"application/x-www-form-urlencoded;charset=utf-8"},success:function(t){console.log("response:",t);var e=t.data,o=e.state,a=e.msg,r=e.data;100==o?i&&i(null,r):-110==o?i&&i(null,a,r):i&&i(a)},fail:function(t){i&&i(t)},complete:function(){!s&&wx.hideLoading&&wx.hideLoading()}})};module.exports.get=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return http.apply(void 0,["GET"].concat(e))},module.exports.post=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return http.apply(void 0,["POST"].concat(e))},module.exports.request=function(){return wx.showNavigationBarLoading&&wx.showNavigationBarLoading({title:"加载中"}),wx.request({url:url,complete:function(){wx.hideNavigationBarLoading&&wx.hideNavigationBarLoading()}})};